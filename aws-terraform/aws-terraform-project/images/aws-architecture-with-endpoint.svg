<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <!-- Internet -->
  <rect x="200" y="20" width="400" height="60" fill="#e0e0e0" stroke="#000000" stroke-width="2"/>
  <text x="400" y="55" text-anchor="middle" font-weight="bold" font-size="18">Internet</text>
  
  <!-- VPC Container -->
  <rect x="50" y="100" width="700" height="420" fill="#e6f3ff" stroke="#0066cc" stroke-width="2" stroke-dasharray="5,5" rx="15" ry="15"/>
  <text x="400" y="130" text-anchor="middle" font-weight="bold" font-size="18">VPC (10.0.0.0/16)</text>
  
  <!-- Legend -->
  <rect x="70" y="150" width="200" height="25" fill="#ffcccc" stroke="#000000" stroke-width="1"/>
  <text x="170" y="167" text-anchor="middle" font-size="12">Security Group Protection</text>
  
  <rect x="70" y="180" width="200" height="25" fill="#cce6ff" stroke="#000000" stroke-width="1"/>
  <text x="170" y="197" text-anchor="middle" font-size="12">IAM Access Control</text>
  
  <!-- Internet Gateway -->
  <rect x="350" y="150" width="100" height="60" fill="#cccccc" stroke="#000000" stroke-width="2" rx="10" ry="10"/>
  <text x="400" y="185" text-anchor="middle" font-weight="bold" font-size="14">Internet Gateway</text>
  <path d="M400 80 L400 150" stroke="#000000" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Application Load Balancer -->
  <rect x="250" y="240" width="300" height="60" fill="#99ccff" stroke="#000000" stroke-width="2" rx="5" ry="5"/>
  <text x="400" y="275" text-anchor="middle" font-weight="bold" font-size="16">Application Load Balancer</text>
  <path d="M400 210 L400 240" stroke="#000000" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Subnets -->
  <rect x="100" y="330" width="280" height="130" fill="#99cc99" stroke="#000000" stroke-width="2"/>
  <text x="240" y="355" text-anchor="middle" font-weight="bold" font-size="14">Public Subnet (10.0.10.0/24)</text>
  
  <rect x="420" y="330" width="280" height="130" fill="#99cccc" stroke="#000000" stroke-width="2"/>
  <text x="560" y="355" text-anchor="middle" font-weight="bold" font-size="14">Private Subnet (10.0.11.0/24)</text>
  
  <!-- Auto Scaling Group -->
  <rect x="200" y="380" width="400" height="60" fill="#ff9999" stroke="#000000" stroke-width="2" rx="5" ry="5"/>
  <text x="400" y="415" text-anchor="middle" font-weight="bold" font-size="16">Auto Scaling Group</text>
  <path d="M400 300 L400 380" stroke="#000000" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Security Groups Box -->
  <rect x="120" y="450" width="150" height="40" fill="#ffcccc" stroke="#ff6666" stroke-width="2" rx="10" ry="10"/>
  <text x="195" y="475" text-anchor="middle" font-weight="bold" font-size="14">Security Groups</text>
  
  <!-- IAM Roles Box -->
  <rect x="530" y="450" width="150" height="40" fill="#cce6ff" stroke="#6699cc" stroke-width="2" rx="10" ry="10"/>
  <text x="605" y="475" text-anchor="middle" font-weight="bold" font-size="14">IAM Roles</text>
  
  <!-- EC2 Instances -->
  <rect x="120" y="510" width="150" height="60" fill="#ffcc66" stroke="#000000" stroke-width="2" rx="5" ry="5"/>
  <text x="195" y="545" text-anchor="middle" font-weight="bold" font-size="14">Public EC2</text>
  
  <rect x="530" y="510" width="150" height="60" fill="#ffcc66" stroke="#000000" stroke-width="2" rx="5" ry="5"/>
  <text x="605" y="545" text-anchor="middle" font-weight="bold" font-size="14">Private EC2</text>
  
  <!-- VPC Endpoint -->
  <rect x="300" y="470" width="200" height="50" fill="#cc99ff" stroke="#000000" stroke-width="2" rx="5" ry="5"/>
  <text x="400" y="500" text-anchor="middle" font-weight="bold" font-size="14">VPC Endpoint for DynamoDB</text>
  
  <!-- Security Group connections -->
  <path d="M170 450 L170 510" stroke="#ff6666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M195 450 L195 510" stroke="#ff6666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Cross-subnet security connection -->
  <path d="M270 470 L530 520" stroke="#ff6666" stroke-width="2" stroke-dasharray="5,3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- IAM Role connections -->
  <path d="M580 450 L580 510" stroke="#6699cc" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M605 450 L605 510" stroke="#6699cc" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Cross-subnet IAM connection -->
  <path d="M530 470 L270 520" stroke="#6699cc" stroke-width="2" stroke-dasharray="5,3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Connections to VPC Endpoint -->
  <path d="M270 535 L350 495" stroke="#666666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M530 535 L450 495" stroke="#666666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- DynamoDB -->
  <rect x="300" y="550" width="200" height="50" fill="#ff9966" stroke="#000000" stroke-width="2" rx="5" ry="5"/>
  <text x="400" y="580" text-anchor="middle" font-weight="bold" font-size="14">DynamoDB</text>
  
  <!-- Connection from VPC Endpoint to DynamoDB -->
  <path d="M400 520 L400 550" stroke="#000000" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Arrowhead definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#000"/>
    </marker>
  </defs>
</svg>
